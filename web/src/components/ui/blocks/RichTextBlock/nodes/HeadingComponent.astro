---
import slugifyId from '@/utils/slugifyId'
import type { HeadingNode } from '../types'
import RichTextLexical from '../RichTextLexical.astro'

type Props = {
  node: HeadingNode
}

const { node } = Astro.props

const HeadingTag = node.tag ?? 'h1'
---

<HeadingTag
  id={node.children?.[0]?.text && ['h2', 'h3'].includes(node.tag)
    ? slugifyId(node.children?.[0]?.text)
    : undefined}
>
  <RichTextLexical nodes={node.children ?? []} />
</HeadingTag>
