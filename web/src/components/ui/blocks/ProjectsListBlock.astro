---
import type { FeaturedProjectsListBlock, Project } from 'cms/src/payload-types'
import ProjectCard from '../ProjectCard.astro'

export type Props = FeaturedProjectsListBlock

const projects = Astro.props.projects as Project[]

projects.sort((a, b) => new Date(b.startDate || 0).getTime() - new Date(a.startDate || 0).getTime())
---

<div class="my-16 flex flex-col gap-4">
  {projects?.map((project, index) => <ProjectCard {...project} index={index} />)}
</div>
