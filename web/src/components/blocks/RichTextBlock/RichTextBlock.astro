---
import RichTextLexical from '@jhb.software/astro-payload-richtext-lexical/RichTextLexical.astro'
import type { RichTextBlock as RichTextBlockType } from 'cms/src/payload-types'
import BlockRenderer from './BlockRenderer.astro'
import UploadRenderer from './UploadRenderer.astro'

type Props = Omit<RichTextBlockType, 'blockType'> & {
  class?: string
}

const { text, class: className } = Astro.props
---

<RichTextLexical
  nodes={text.root.children}
  UploadRenderer={UploadRenderer}
  BlockRenderer={BlockRenderer}
  class:list={['prose mx-auto !max-w-none', className]}
/>
